# Mosquitto configuration for Weather Monitoring Service

# Default listener
listener 1883
protocol mqtt

# WebSocket listener
listener 9001
protocol websockets

# Authentication
allow_anonymous false
password_file /mosquitto/config/passwd

# Logging
log_type all
log_dest stdout

# Persistence
persistence true
persistence_location /mosquitto/data/

# Message settings
max_inflight_messages 20
max_queued_messages 100
message_size_limit 0

# Keep alive
keepalive_interval 60

# Auto save interval
autosave_interval 1800

# Retained messages
retain_available true